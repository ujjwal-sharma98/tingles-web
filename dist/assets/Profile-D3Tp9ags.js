import{n as C,j as e,o as Q,p as X,r as x,q as D,t as w,v as Z,w as A,x as G,y as R,z as J,S as ee,A as ae,D as te,E as F,F as U,L as re,T as j,G as oe,H as N,I as E,u as se,b as le,J as ne,K as f,M as ie,N as ce,C as de,O as ue,m as V,P as pe,Q as me,R as u,U as b,V as H,W as O,X as W,Y as T,Z as q,B as he,_ as xe,k as ye,l as fe,$ as ge}from"./index-C0wsw8hu.js";const ve=C(e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),be=C(e.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),je=C(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Ce(t){return X("MuiCheckbox",t)}const M=Q("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),ke=t=>{const{classes:r,indeterminate:s,color:l,size:n}=t,i={root:["root",s&&"indeterminate",`color${R(l)}`,`size${R(n)}`]},a=J(i,Ce,r);return{...r,...a}},Ie=G(ee,{shouldForwardProp:t=>ae(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:s}=t;return[r.root,s.indeterminate&&r.indeterminate,r[`size${R(s.size)}`],s.color!=="default"&&r[`color${R(s.color)}`]]}})(te(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:F(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(U()).map(([r])=>({props:{color:r,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:F(t.palette[r].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(U()).map(([r])=>({props:{color:r},style:{[`&.${M.checked}, &.${M.indeterminate}`]:{color:(t.vars||t).palette[r].main},[`&.${M.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Se=e.jsx(be,{}),Pe=e.jsx(ve,{}),Be=e.jsx(je,{}),Ne=x.forwardRef(function(r,s){const l=D({props:r,name:"MuiCheckbox"}),{checkedIcon:n=Se,color:i="primary",icon:a=Pe,indeterminate:o=!1,indeterminateIcon:p=Be,inputProps:g,size:v="medium",disableRipple:k=!1,className:z,slots:I={},slotProps:S={},...P}=l,c=o?p:a,d=o?p:n,m={...l,disableRipple:k,color:i,indeterminate:o,size:v},y=ke(m),h=S.input??g,[$,L]=w("root",{ref:s,elementType:Ie,className:A(y.root,z),shouldForwardComponentProp:!0,externalForwardedProps:{slots:I,slotProps:S,...P},ownerState:m,additionalProps:{type:"checkbox",icon:x.cloneElement(c,{fontSize:c.props.fontSize??v}),checkedIcon:x.cloneElement(d,{fontSize:d.props.fontSize??v}),disableRipple:k,slots:I,slotProps:{input:Z(typeof h=="function"?h(m):h,{"data-indeterminate":o})}}});return e.jsx($,{...L,classes:y})}),Te=t=>{const{classes:r,inset:s,primary:l,secondary:n,dense:i}=t;return J({root:["root",s&&"inset",i&&"dense",l&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},oe,r)},we=G("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:s}=t;return[{[`& .${N.primary}`]:r.primary},{[`& .${N.secondary}`]:r.secondary},r.root,s.inset&&r.inset,s.primary&&s.secondary&&r.multiline,s.dense&&r.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${E.root}:where(& .${N.primary})`]:{display:"block"},[`.${E.root}:where(& .${N.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Re=x.forwardRef(function(r,s){const l=D({props:r,name:"MuiListItemText"}),{children:n,className:i,disableTypography:a=!1,inset:o=!1,primary:p,primaryTypographyProps:g,secondary:v,secondaryTypographyProps:k,slots:z={},slotProps:I={},...S}=l,{dense:P}=x.useContext(re);let c=p??n,d=v;const m={...l,disableTypography:a,inset:o,primary:!!c,secondary:!!d,dense:P},y=Te(m),h={slots:z,slotProps:{primary:g,secondary:k,...I}},[$,L]=w("root",{className:A(y.root,i),elementType:we,externalForwardedProps:{...h,...S},ownerState:m,ref:s}),[Y,B]=w("primary",{className:y.primary,elementType:j,externalForwardedProps:h,ownerState:m}),[_,K]=w("secondary",{className:y.secondary,elementType:j,externalForwardedProps:h,ownerState:m});return c!=null&&c.type!==j&&!a&&(c=e.jsx(Y,{variant:P?"body2":"body1",component:B!=null&&B.variant?void 0:"span",...B,children:c})),d!=null&&d.type!==j&&!a&&(d=e.jsx(_,{variant:"body2",color:"textSecondary",...K,children:d})),e.jsxs($,{...L,children:[c,d]})}),ze=C(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),$e=C(e.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile"),Le=["JavaScript","React","Node.js","MongoDB","CSS","HTML"],Fe=()=>{const t=se(),{user:r}=le(o=>o.profileReducer),[s,l]=x.useState(!0),n=async o=>{if(!o.target.files[0]){alert("Please select an image to upload!");return}const p=new FormData;p.append("image",o.target.files[0]);try{await ye.post(`${fe}/profile/image/upload`,p,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),t(ge())}catch(g){console.error("Error uploading image:",g)}},i=ne({firstName:f().min(4,"At least 4 characters").max(50).required("Required"),lastName:f().max(50,"Maximum 50 characters"),emailId:f().email("Invalid email").required("Required"),age:ie().min(18,"You must be at least 18").required("Required"),gender:f().oneOf(["male","female","other"],"Invalid gender").required("Required"),photoUrl:f().url("Invalid URL"),about:f()}),a=ce({initialValues:{firstName:"",lastName:"",emailId:"",age:"",gender:"",photoUrl:"",about:"",skills:[]},validationSchema:i,onSubmit:o=>{alert("Profile Updated Successfully!"),t(xe(o))}});return x.useEffect(()=>{r&&(a.setValues({firstName:r.firstName||"",lastName:r.lastName||"",emailId:r.emailId||"",about:r.about||"about...",skills:r.skills||[],gender:r.gender||"",age:r.age||null,photoUrl:r.photoUrl||""}),l(!1))},[r]),e.jsxs(de,{maxWidth:"sm",sx:{mt:5},children:[e.jsx(j,{variant:"h4",align:"center",gutterBottom:!0,children:"Edit Profile"}),s?e.jsx(ue,{sx:{display:"block",margin:"auto"}}):e.jsxs(e.Fragment,{children:[e.jsx(V,{display:"flex",flexDirection:"column",alignItems:"center",mt:5,style:{marginBottom:"20px"},children:e.jsxs(V,{sx:{position:"relative",width:200,height:200,borderRadius:"50%",overflow:"hidden",border:"2px solid #ddd",display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx(pe,{src:a.values.photoUrl||"https://via.placeholder.com/200",alt:"Uploaded",sx:{width:"100%",height:"100%"}}),e.jsxs(me,{component:"label",sx:{position:"absolute",top:140,left:140,bgcolor:"white",boxShadow:1,"&:hover":{bgcolor:"white"}},children:[e.jsx(ze,{color:"primary"}),e.jsx("input",{type:"file",hidden:!0,onChange:n})]}),!a.values.photoUrl&&e.jsx($e,{sx:{position:"absolute",fontSize:50,color:"#aaa"}})]})}),e.jsx("form",{onSubmit:a.handleSubmit,style:{marginBottom:"20px"},children:e.jsxs(u,{container:!0,spacing:2,children:[e.jsx(u,{item:!0,xs:12,sm:6,children:e.jsx(b,{label:"First Name",name:"firstName",fullWidth:!0,variant:"outlined",value:a.values.firstName,onChange:a.handleChange,onBlur:a.handleBlur,error:a.touched.firstName&&!!a.errors.firstName,helperText:a.touched.firstName&&a.errors.firstName})}),e.jsx(u,{item:!0,xs:12,sm:6,children:e.jsx(b,{label:"Last Name",name:"lastName",fullWidth:!0,variant:"outlined",value:a.values.lastName,onChange:a.handleChange,onBlur:a.handleBlur,error:a.touched.lastName&&!!a.errors.lastName,helperText:a.touched.lastName&&a.errors.lastName})}),e.jsx(u,{item:!0,xs:12,children:e.jsx(b,{label:"Email",name:"emailId",fullWidth:!0,variant:"outlined",value:a.values.emailId,disabled:!0})}),e.jsx(u,{item:!0,xs:12,children:e.jsx(b,{label:"Age",name:"age",type:"number",fullWidth:!0,variant:"outlined",value:a.values.age,onChange:a.handleChange,onBlur:a.handleBlur,error:a.touched.age&&!!a.errors.age,helperText:a.touched.age&&a.errors.age})}),e.jsx(u,{item:!0,xs:12,children:e.jsxs(H,{fullWidth:!0,error:a.touched.gender&&!!a.errors.gender,children:[e.jsx(O,{children:"Gender"}),e.jsxs(W,{name:"gender",value:a.values.gender,onChange:a.handleChange,onBlur:a.handleBlur,children:[e.jsx(T,{value:"male",children:"Male"}),e.jsx(T,{value:"female",children:"Female"}),e.jsx(T,{value:"other",children:"Other"})]}),e.jsx(q,{children:a.touched.gender&&a.errors.gender})]})}),e.jsx(u,{item:!0,xs:12,children:e.jsx(b,{label:"About",name:"about",multiline:!0,rows:2,fullWidth:!0,variant:"outlined",value:a.values.about,onChange:a.handleChange})}),e.jsx(u,{item:!0,xs:12,children:e.jsxs(H,{fullWidth:!0,error:a.touched.skills&&!!a.errors.skills,children:[e.jsx(O,{children:"Skills"}),e.jsx(W,{multiple:!0,name:"skills",value:a.values.skills,onChange:a.handleChange,renderValue:o=>o.join(", "),children:Le.map(o=>e.jsxs(T,{value:o,children:[e.jsx(Ne,{checked:a.values.skills.includes(o)}),e.jsx(Re,{primary:o})]},o))}),e.jsx(q,{children:a.touched.skills&&a.errors.skills})]})}),e.jsx(u,{item:!0,xs:12,children:e.jsx(he,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Save Changes"})})]})})]})]})};export{Fe as default};
