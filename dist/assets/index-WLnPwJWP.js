const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MyMatches-jKMT0Gcc.js","assets/react-D7kkDqEC.js","assets/vendor-C8d_a1vj.js","assets/Listing-0lIQ9zAr.js","assets/mui-DfYVwn8j.js","assets/Interests-BQWXifav.js","assets/Account-6WvNvelv.js","assets/Profile-CVX6MPSS.js"])))=>i.map(i=>d[i]);
import{u as _,h as V,r as u,l as F,j as e,L as S,O as X,N as J,P as K,B as Q,m as Z,n as f,o as ee}from"./react-D7kkDqEC.js";import{y as b,z as P,A as Y,B as re,C as ne,D as j,E as se,F as oe}from"./vendor-C8d_a1vj.js";import{A as te,C as q,T as ae,a as m,B as C,I as A,M as ie,b as M,c as O,d as le,e as v,f as de,g as ce,m as ue,L as he,h as me,i as pe,j as xe,G as p,k as w,l as W,V as D,n as z,F as fe,o as ge,R as je,p as B,q as N,r as ye,s as ve,t as we}from"./mui-DfYVwn8j.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))h(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&h(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function h(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const Ce="modulepreload",be=function(o){return"/"+o},$={},U=function(r,n,h){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(d=>{if(d=be(d),d in $)return;$[d]=!0;const x=d.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const t=document.createElement("link");if(t.rel=x?"stylesheet":Ce,x||(t.as="script"),t.crossOrigin="",t.href=d,c&&t.setAttribute("nonce",c),document.head.appendChild(t),x)return new Promise((s,g)=>{t.addEventListener("load",s),t.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return i.then(a=>{for(const c of a||[])c.status==="rejected"&&l(c.reason);return r().catch(l)})},I=location.hostname==="localhost"?"http://localhost:3002":"/api",k=b("auth/loginUser",async(o,{rejectWithValue:r})=>{try{return(await P.post(`${I}/login`,o,{withCredentials:!0})).data}catch(n){return r(n.response?n.response.data:"Login failed")}}),L=b("auth/signUpUser",async(o,{rejectWithValue:r})=>{try{return(await P.post(`${I}/signup`,o,{withCredentials:!0})).data}catch(n){return r(n.response?n.response.data:"Sign up failed")}}),E=b("auth/logOutUser",async(o,{rejectWithValue:r})=>{try{return(await P.post(`${I}/logout`,o,{withCredentials:!0})).data}catch(n){return r(n.response?n.response.data:"Sign up failed")}}),H=Y({name:"login",initialState:{isLoggedIn:!1,user:null,error:null},reducers:{},extraReducers:o=>{o.addCase(k.pending,r=>{r.loading=!0,r.error=null}).addCase(k.fulfilled,(r,n)=>{r.loading=!1,r.isLoggedIn=!0,r.user=n.payload}).addCase(k.rejected,(r,n)=>{r.loading=!1,r.isLoggedIn=!1,r.user=null,r.error=n.payload}).addCase(L.pending,r=>{r.loading=!0,r.error=null}).addCase(L.fulfilled,(r,n)=>{r.loading=!1,r.isLoggedIn=!0,r.user=n.payload}).addCase(L.rejected,(r,n)=>{r.loading=!1,r.isLoggedIn=!1,r.user=null,r.error=n.payload}).addCase(E.pending,r=>{r.loading=!0,r.error=null,r.isLoggedIn=!1,r.user=null}).addCase(E.fulfilled,r=>{r.loading=!1,r.isLoggedIn=!1,r.user=null}).addCase(E.rejected,(r,n)=>{r.loading=!1,r.isLoggedIn=!1,r.user=null,r.error=n.payload})}}),{logout:He}=H.actions,Pe=H.reducer,Ie={user:null,loading:!1,error:null},R=b("user/fetchUser",async()=>{try{return(await P.get(`${I}/profile/view`,{withCredentials:!0})).data}catch(o){throw o.response.data}}),T=b("user/updateUser",async o=>{try{return(await P.patch(`${I}/profile/edit`,o,{withCredentials:!0})).data.data}catch(r){throw r.response.data}}),Se=Y({name:"user",initialState:Ie,reducers:{},extraReducers:o=>{o.addCase(R.pending,r=>{r.loading=!0,r.error=null}).addCase(R.fulfilled,(r,n)=>{r.user=n.payload,r.loading=!1,r.error=null}).addCase(R.rejected,(r,n)=>{r.loading=!1,r.error=n.error.message}).addCase(T.pending,r=>{r.loading=!0,r.error=null}).addCase(T.fulfilled,(r,n)=>{r.user=n.payload,r.loading=!1,r.error=null}).addCase(T.rejected,(r,n)=>{r.loading=!1,r.error=n.error.message})}}),ke=Se.reducer,Le=re({reducer:{authReducer:Pe,userReducer:ke}}),G=[{name:"My Matches",link:"/dashboard/my-matches"},{name:"Interests",link:"/dashboard/interests"}],Ee=[{name:"Profile",link:"/dashboard/profile"},{name:"Account",link:"/dashboard/account"}],Re=()=>{const o=_(),r=V(),[n,h]=u.useState(null),[i,l]=u.useState(null),{user:a}=F(t=>t.userReducer),c=t=>{h(t.currentTarget)},d=()=>{h(null)},x=t=>{l(t.currentTarget)},y=()=>{l(null)};return e.jsx(te,{position:"static",children:e.jsx(q,{maxWidth:"xl",children:e.jsxs(ae,{disableGutters:!0,children:[e.jsx(m,{variant:"h6",noWrap:!0,component:"a",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:e.jsx(S,{to:"/dashboard",children:" Tingles "})}),e.jsxs(C,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[e.jsx(A,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:()=>c,color:"inherit",children:e.jsx(ie,{})}),e.jsx(M,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!n,onClose:d,sx:{display:{xs:"block",md:"none"}},children:G.map(t=>e.jsx(O,{onClick:d,children:e.jsx(m,{sx:{textAlign:"center"},children:e.jsx(S,{to:t.link,children:t.name})})},t.name))})]}),e.jsx(le,{sx:{display:{xs:"flex",md:"none"},mr:1}}),e.jsx(m,{variant:"h5",noWrap:!0,component:"a",href:"#app-bar-with-responsive-menu",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"LOGO"}),e.jsx(C,{sx:{flexGrow:1,display:{xs:"none",md:"flex"},justifyContent:"flex-end",marginRight:"40px"},children:G.map(t=>e.jsx(v,{onClick:d,sx:{my:2,color:"white",display:"block"},children:e.jsx(S,{to:t.link,children:t.name})},t.name))}),e.jsxs(C,{sx:{flexGrow:0},children:[e.jsx(de,{title:a==null?void 0:a.firstName,children:e.jsx(A,{onClick:x,sx:{p:0},children:e.jsx(ce,{alt:"Remy Sharp",src:a==null?void 0:a.photoUrl})})}),e.jsxs(M,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!i,onClose:y,PaperProps:{sx:{width:"120px"}},children:[Ee.map(t=>e.jsx(O,{onClick:y,children:e.jsx(S,{to:t.link,children:e.jsx(m,{sx:{textAlign:"center"},children:t.name})})},t.name)),e.jsx(O,{onClick:()=>{y(),o(E()),r("/signup")},children:e.jsx(m,{sx:{textAlign:"center"},children:"Log Out"})})]})]})]})})})},Ae=ue(o=>({footer:{backgroundColor:o.palette.primary.main,color:o.palette.primary.contrastText,padding:o.spacing(2),textAlign:"center"}})),Ue=()=>{const o=Ae();return e.jsxs("footer",{className:o.footer,children:[e.jsxs(m,{variant:"body2",color:"inherit",children:["Â© ",new Date().getFullYear()," Your Website Name"]}),e.jsxs(m,{variant:"body2",color:"inherit",children:["Made with love by ",e.jsx(he,{href:"https://www.example.com",children:"Your Name"})]})]})},Oe=()=>{const o=_(),{user:r}=F(n=>n.userReducer);return console.log("User Data:",r),u.useEffect(()=>{o(R())},[o]),e.jsxs("div",{children:[e.jsx(Re,{}),e.jsx(q,{sx:{minHeight:"80vh",mt:3},children:e.jsx(X,{})}),e.jsx(Ue,{})]})},Be=()=>e.jsxs(me,{sx:{width:"500px"},children:[e.jsx(pe,{component:"img",alt:"Image",height:"400",image:"https://encrypted-tbn1.gstatic.com/licensed-image?q=tbn:ANd9GcQCyzdroOgXf1JRT-59-ejJoIE0a9KVvyVwXUrA5xytU8gCuncLXYXL3DO2b1_-YnaUWD0lgEsd3ddXvZg"}),e.jsxs(xe,{sx:{justifyContent:"space-around"},children:[e.jsx(v,{variant:"contained",color:"secondary",children:"Ignore"}),e.jsx(v,{variant:"contained",color:"primary",children:"Request"})]})]});function Ne(){return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:e.jsx(Be,{})})}const Te=()=>{const o=V(),r=_(),[n,h]=u.useState(!0),[i,l]=u.useState(!1),[a,c]=u.useState(!1),{isLoggedIn:d,error:x,loading:y}=F(g=>g.authReducer),t=ne({firstName:n?j().min(3,"Must be at least 3 characters").required("Required"):j().notRequired(),emailId:j().email("Invalid email format").required("Email is required"),password:j().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:n?j().oneOf([se("password")],"Passwords must match").required("Confirm Password is required"):j().notRequired(),gender:n?j().required("Please select your gender"):j().notRequired()}),s=oe({initialValues:{firstName:"",emailId:"",password:"",confirmPassword:""},validationSchema:t,onSubmit:g=>{console.log("Form Data:",g),r(n?L(g):k({emailId:g.emailId,password:g.password}))}});return u.useEffect(()=>{d&&o("/dashboard")},[d,o]),e.jsx(q,{maxWidth:"sm",sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:e.jsx(C,{sx:{width:"100%",padding:4,boxShadow:3,borderRadius:3,bgcolor:"background.paper"},children:e.jsx("form",{onSubmit:s.handleSubmit,children:e.jsxs(p,{container:!0,spacing:2,direction:"column",children:[e.jsx(p,{item:!0,children:e.jsx(m,{variant:"h4",align:"center",fontWeight:"bold",children:n?"Sign Up":"Login"})}),n&&e.jsxs(e.Fragment,{children:[e.jsx(p,{item:!0,xs:12,sm:6,children:e.jsx(w,{label:"First Name",name:"firstName",fullWidth:!0,variant:"outlined",value:s.values.firstName,onChange:s.handleChange,onBlur:s.handleBlur,error:s.touched.firstName&&!!s.errors.firstName,helperText:s.touched.firstName&&s.errors.firstName})}),e.jsx(p,{item:!0,xs:12,sm:6,children:e.jsx(w,{label:"Last Name",name:"lastName",fullWidth:!0,variant:"outlined",value:s.values.lastName,onChange:s.handleChange,onBlur:s.handleBlur})})]}),e.jsx(p,{item:!0,children:e.jsx(w,{label:"Email",name:"emailId",type:"email",fullWidth:!0,variant:"outlined",value:s.values.emailId,onChange:s.handleChange,onBlur:s.handleBlur,error:s.touched.emailId&&!!s.errors.emailId,helperText:s.touched.emailId&&s.errors.emailId})}),e.jsx(p,{item:!0,children:e.jsx(w,{label:"Password",name:"password",type:i?"text":"password",fullWidth:!0,variant:"outlined",value:s.values.password,onChange:s.handleChange,onBlur:s.handleBlur,error:s.touched.password&&!!s.errors.password,helperText:s.touched.password&&s.errors.password,InputProps:{endAdornment:e.jsx(W,{position:"end",children:e.jsx(A,{onClick:()=>l(!i),edge:"end",children:i?e.jsx(D,{}):e.jsx(z,{})})})}})}),n&&e.jsx(p,{item:!0,children:e.jsx(w,{label:"Confirm Password",name:"confirmPassword",type:a?"text":"password",fullWidth:!0,variant:"outlined",value:s.values.confirmPassword,onChange:s.handleChange,onBlur:s.handleBlur,error:s.touched.confirmPassword&&!!s.errors.confirmPassword,helperText:s.touched.confirmPassword&&s.errors.confirmPassword,InputProps:{endAdornment:e.jsx(W,{position:"end",children:e.jsx(A,{onClick:()=>c(!a),edge:"end",children:a?e.jsx(D,{}):e.jsx(z,{})})})}})}),n&&e.jsx(p,{item:!0,children:e.jsxs(fe,{component:"fieldset",error:s.touched.gender&&!!s.errors.gender,children:[e.jsx(ge,{component:"legend",children:"Gender"}),e.jsxs(je,{row:!0,name:"gender",value:s.values.gender,onChange:s.handleChange,children:[e.jsx(B,{value:"male",control:e.jsx(N,{}),label:"Male"}),e.jsx(B,{value:"female",control:e.jsx(N,{}),label:"Female"}),e.jsx(B,{value:"other",control:e.jsx(N,{}),label:"Other"})]}),s.touched.gender&&s.errors.gender&&e.jsx(m,{variant:"caption",color:"error",children:s.errors.gender})]})}),e.jsx(p,{item:!0,children:n?e.jsxs("div",{children:["Already have an account?"," ",e.jsx(v,{sx:{textTransform:"none"},onClick:()=>h(!1),children:"Login"})]}):e.jsxs("div",{children:["New User?"," ",e.jsx(v,{sx:{textTransform:"none"},onClick:()=>h(!0),children:"Sign Up"})]})}),y&&e.jsx(m,{variant:"h6",children:"Loading..."}),x&&e.jsx(m,{variant:"h6",color:"error",children:x}),e.jsx(p,{item:!0,children:e.jsx(v,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,sx:{py:1,fontSize:"16px"},children:n?"Sign Up":"Login"})})]})})})})},_e=()=>e.jsx("div",{children:e.jsx("p",{children:"The page you are looking for does not exist."})}),Fe=o=>{const n=document.cookie.split("; ").find(h=>h.startsWith(o+"="));return n?n.split("=")[1]:null},qe=()=>Fe("token")?e.jsx(X,{}):e.jsx(J,{to:"/signup",replace:!0}),Me=u.lazy(()=>U(()=>import("./MyMatches-jKMT0Gcc.js"),__vite__mapDeps([0,1,2,3,4]))),We=u.lazy(()=>U(()=>import("./Interests-BQWXifav.js"),__vite__mapDeps([5,1,2,3,4]))),De=u.lazy(()=>U(()=>import("./Account-6WvNvelv.js"),__vite__mapDeps([6,1,2]))),ze=u.lazy(()=>U(()=>import("./Profile-CVX6MPSS.js"),__vite__mapDeps([7,1,2,4]))),$e=ye({palette:{primary:{main:"#1976d2",contrastText:"#ffffff"}}});function Ge(){return e.jsx(e.Fragment,{children:e.jsx(K,{store:Le,children:e.jsx(ve,{theme:$e,children:e.jsx(Q,{children:e.jsx(u.Suspense,{fallback:e.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:e.jsx(we,{})}),children:e.jsxs(Z,{children:[e.jsx(f,{path:"/signup",element:e.jsx(Te,{})}),e.jsx(f,{element:e.jsx(qe,{}),children:e.jsxs(f,{path:"/dashboard",element:e.jsx(Oe,{}),children:[e.jsx(f,{path:"/dashboard",element:e.jsx(Ne,{})}),e.jsx(f,{path:"/dashboard/my-matches",element:e.jsx(Me,{})}),e.jsx(f,{path:"/dashboard/interests",element:e.jsx(We,{})}),e.jsx(f,{path:"/dashboard/profile",element:e.jsx(ze,{})}),e.jsx(f,{path:"/dashboard/account",element:e.jsx(De,{})})]})}),e.jsx(f,{path:"*",element:e.jsx(_e,{})})]})})})})})})}ee.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(Ge,{})}));export{T as u};
