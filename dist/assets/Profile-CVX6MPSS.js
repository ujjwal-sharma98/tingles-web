import{u as f,l as p,r as o,j as r}from"./react-D7kkDqEC.js";import{C as v,G as b,D as s,H as N,F as C}from"./vendor-C8d_a1vj.js";import{u as B}from"./index-WLnPwJWP.js";import{C as k,a as S,t as U,G as t,k as i,F as u,v as d,S as h,c as n,w as m,x as I,y as W,e as y}from"./mui-DfYVwn8j.js";const F=["JavaScript","React","Node.js","MongoDB","CSS","HTML"],E=()=>{const c=f(),{user:l}=p(a=>a.userReducer),[x,g]=o.useState(!0),j=v({firstName:s().min(4,"At least 4 characters").max(50).required("Required"),lastName:s().max(50,"Maximum 50 characters"),emailId:s().email("Invalid email").required("Required"),age:N().min(18,"You must be at least 18").required("Required"),gender:s().oneOf(["male","female","other"],"Invalid gender").required("Required"),photoUrl:s().url("Invalid URL"),about:s(),skills:b().min(1,"Select at least one skill")}),e=C({initialValues:{firstName:"",lastName:"",emailId:"",age:"",gender:"",photoUrl:"",about:"",skills:[]},validationSchema:j,onSubmit:a=>{console.log("Form Data:",a),alert("Profile Updated Successfully!"),c(B(a))}});return o.useEffect(()=>{l&&(e.setValues({firstName:l.firstName||"",lastName:l.lastName||"",emailId:l.emailId||"",about:l.about||"about...",skills:l.skills||[],gender:l.gender||"",age:l.age||null,photoUrl:l.photoUrl||""}),g(!1))},[l]),r.jsxs(k,{maxWidth:"sm",sx:{mt:5},children:[r.jsx(S,{variant:"h4",align:"center",gutterBottom:!0,children:"Edit Profile"}),x?r.jsx(U,{sx:{display:"block",margin:"auto"}}):r.jsx("form",{onSubmit:e.handleSubmit,children:r.jsxs(t,{container:!0,spacing:2,children:[r.jsx(t,{item:!0,xs:12,sm:6,children:r.jsx(i,{label:"First Name",name:"firstName",fullWidth:!0,variant:"outlined",value:e.values.firstName,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.firstName&&!!e.errors.firstName,helperText:e.touched.firstName&&e.errors.firstName})}),r.jsx(t,{item:!0,xs:12,sm:6,children:r.jsx(i,{label:"Last Name",name:"lastName",fullWidth:!0,variant:"outlined",value:e.values.lastName,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.lastName&&!!e.errors.lastName,helperText:e.touched.lastName&&e.errors.lastName})}),r.jsx(t,{item:!0,xs:12,children:r.jsx(i,{label:"Email",name:"emailId",fullWidth:!0,variant:"outlined",value:e.values.emailId,disabled:!0})}),r.jsx(t,{item:!0,xs:12,children:r.jsx(i,{label:"Age",name:"age",type:"number",fullWidth:!0,variant:"outlined",value:e.values.age,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.age&&!!e.errors.age,helperText:e.touched.age&&e.errors.age})}),r.jsx(t,{item:!0,xs:12,children:r.jsxs(u,{fullWidth:!0,error:e.touched.gender&&!!e.errors.gender,children:[r.jsx(d,{children:"Gender"}),r.jsxs(h,{name:"gender",value:e.values.gender,onChange:e.handleChange,onBlur:e.handleBlur,children:[r.jsx(n,{value:"male",children:"Male"}),r.jsx(n,{value:"female",children:"Female"}),r.jsx(n,{value:"other",children:"Other"})]}),r.jsx(m,{children:e.touched.gender&&e.errors.gender})]})}),r.jsx(t,{item:!0,xs:12,children:r.jsx(i,{label:"Profile Picture URL",name:"photoUrl",fullWidth:!0,variant:"outlined",value:e.values.photoUrl,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.photoUrl&&!!e.errors.photoUrl,helperText:e.touched.photoUrl&&e.errors.photoUrl})}),r.jsx(t,{item:!0,xs:12,children:r.jsx(i,{label:"About",name:"about",multiline:!0,rows:2,fullWidth:!0,variant:"outlined",value:e.values.about,onChange:e.handleChange})}),r.jsx(t,{item:!0,xs:12,children:r.jsxs(u,{fullWidth:!0,error:e.touched.skills&&!!e.errors.skills,children:[r.jsx(d,{children:"Skills"}),r.jsx(h,{multiple:!0,name:"skills",value:e.values.skills,onChange:e.handleChange,renderValue:a=>a.join(", "),children:F.map(a=>r.jsxs(n,{value:a,children:[r.jsx(I,{checked:e.values.skills.includes(a)}),r.jsx(W,{primary:a})]},a))}),r.jsx(m,{children:e.touched.skills&&e.errors.skills})]})}),r.jsx(t,{item:!0,xs:12,children:r.jsx(y,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Save Changes"})})]})})]})};export{E as default};
